local extensions = {
  "*.1",
  "*.1in",
  "*.1m",
  "*.1x",
  "*.2",
  "*.3",
  "*.3in",
  "*.3m",
  "*.3qt",
  "*.3x",
  "*.4",
  "*.4th",
  "*.5",
  "*.6",
  "*.6pl",
  "*.6pm",
  "*.7",
  "*.8",
  "*.9",
  "*.E",
  "*.ML",
  "*._coffee",
  "*._js",
  "*._ls",
  "*.a51",
  "*.abap",
  "*.ada",
  "*.adb",
  "*.ado",
  "*.adoc",
  "*.adp",
  "*.ads",
  "*.agda",
  "*.ahk",
  "*.ahkl",
  "*.aj",
  "*.al",
  "*.als",
  "*.ampl",
  "*.anim",
  "*.ant",
  "*.apacheconf",
  "*.apib",
  "*.apl",
  "*.applescript",
  "*.arc",
  "*.arpa",
  "*.as",
  "*.asax",
  "*.asc",
  "*.asc",
  "*.asc",
  "*.asciidoc",
  "*.ascx",
  "*.asd",
  "*.ash",
  "*.ashx",
  "*.asm",
  "*.asmx",
  "*.asp",
  "*.aspx",
  "*.asset",
  "*.au3",
  "*.aug",
  "*.auk",
  "*.aux",
  "*.aw",
  "*.awk",
  "*.axd",
  "*.axi",
  "*.axi.erb",
  "*.axml",
  "*.axs",
  "*.axs.erb",
  "*.b",
  "*.b",
  "*.bas",
  "*.bash",
  "*.bat",
  "*.bats",
  "*.bb",
  "*.bb",
  "*.bbx",
  "*.befunge",
  "*.bf",
  "*.bf",
  "*.bib",
  "*.bison",
  "*.bmx",
  "*.bones",
  "*.boo",
  "*.boot",
  "*.brd",
  "*.brd",
  "*.bro",
  "*.brs",
  "*.bsv",
  "*.builder",
  "*.bzl",
  "*.c",
  "*.c++",
  "*.c++-objdump",
  "*.c++objdump",
  "*.c-objdump",
  "*.cake",
  "*.cake",
  "*.capnp",
  "*.cats",
  "*.cbl",
  "*.cbx",
  "*.cc",
  "*.ccp",
  "*.ccxml",
  "*.cdf",
  "*.ceylon",
  "*.cfc",
  "*.cfg",
  "*.cfm",
  "*.cfml",
  "*.cgi",
  "*.cgi",
  "*.cgi",
  "*.ch",
  "*.ch",
  "*.chpl",
  "*.chs",
  "*.cirru",
  "*.cjsx",
  "*.ck",
  "*.cl",
  "*.cl",
  "*.cl",
  "*.cl2",
  "*.click",
  "*.clixml",
  "*.clj",
  "*.cljc",
  "*.cljs",
  "*.cljs.hl",
  "*.cljscm",
  "*.cljx",
  "*.clp",
  "*.cls",
  "*.cls",
  "*.cls",
  "*.cls",
  "*.clw",
  "*.cmake",
  "*.cmake.in",
  "*.cmd",
  "*.cob",
  "*.cobol",
  "*.coffee",
  "*.com",
  "*.command",
  "*.coq",
  "*.cp",
  "*.cp",
  "*.cpp",
  "*.cpp-objdump",
  "*.cppobjdump",
  "*.cproject",
  "*.cps",
  "*.cpy",
  "*.cql",
  "*.cr",
  "*.creole",
  "*.cs",
  "*.cs",
  "*.csh",
  "*.cshtml",
  "*.csl",
  "*.cson",
  "*.csproj",
  "*.css",
  "*.csv",
  "*.csx",
  "*.ct",
  "*.ctp",
  "*.cu",
  "*.cuh",
  "*.cw",
  "*.cxx",
  "*.cxx-objdump",
  "*.cy",
  "*.d",
  "*.d",
  "*.d",
  "*.d-objdump",
  "*.darcspatch",
  "*.dart",
  "*.dats",
  "*.db2",
  "*.dcl",
  "*.ddl",
  "*.decls",
  "*.desktop",
  "*.desktop.in",
  "*.dfm",
  "*.di",
  "*.diff",
  "*.dita",
  "*.ditamap",
  "*.ditaval",
  "*.djs",
  "*.dll.config",
  "*.dlm",
  "*.dm",
  "*.do",
  "*.dockerfile",
  "*.doh",
  "*.dot",
  "*.dotsettings",
  "*.dpatch",
  "*.dpr",
  "*.druby",
  "*.dtx",
  "*.duby",
  "*.dyalog",
  "*.dyl",
  "*.dylan",
  "*.e",
  "*.eam.fs",
  "*.ebuild",
  "*.ec",
  "*.ecl",
  "*.ecl",
  "*.eclass",
  "*.eclxml",
  "*.edn",
  "*.eex",
  "*.eh",
  "*.el",
  "*.eliom",
  "*.eliomi",
  "*.elm",
  "*.em",
  "*.emacs",
  "*.emacs.desktop",
  "*.emberscript",
  "*.epj",
  "*.eps",
  "*.erb",
  "*.erb.deface",
  "*.erl",
  "*.es",
  "*.es",
  "*.es6",
  "*.escript",
  "*.ex",
  "*.exs",
  "*.f",
  "*.f",
  "*.f03",
  "*.f08",
  "*.f77",
  "*.f90",
  "*.f95",
  "*.factor",
  "*.fan",
  "*.fancypack",
  "*.fcgi",
  "*.fcgi",
  "*.fcgi",
  "*.fcgi",
  "*.fcgi",
  "*.fcgi",
  "*.feature",
  "*.filters",
  "*.fish",
  "*.flex",
  "*.flux",
  "*.for",
  "*.for",
  "*.for",
  "*.forth",
  "*.fp",
  "*.fpp",
  "*.fr",
  "*.fr",
  "*.fr",
  "*.frag",
  "*.frag",
  "*.frg",
  "*.frm",
  "*.frt",
  "*.frx",
  "*.fs",
  "*.fs",
  "*.fs",
  "*.fs",
  "*.fsh",
  "*.fshader",
  "*.fsi",
  "*.fsproj",
  "*.fsx",
  "*.fth",
  "*.ftl",
  "*.fun",
  "*.fx",
  "*.fx",
  "*.fxh",
  "*.fxml",
  "*.fy",
  "*.g",
  "*.g",
  "*.g4",
  "*.gap",
  "*.gawk",
  "*.gco",
  "*.gcode",
  "*.gd",
  "*.gd",
  "*.gemspec",
  "*.geo",
  "*.geojson",
  "*.geom",
  "*.gf",
  "*.gi",
  "*.glade",
  "*.glf",
  "*.glsl",
  "*.glslv",
  "*.gml",
  "*.gml",
  "*.gml",
  "*.gms",
  "*.gnu",
  "*.gnuplot",
  "*.go",
  "*.god",
  "*.golo",
  "*.gp",
  "*.grace",
  "*.gradle",
  "*.graphql",
  "*.groovy",
  "*.grt",
  "*.grxml",
  "*.gs",
  "*.gs",
  "*.gshader",
  "*.gsp",
  "*.gst",
  "*.gsx",
  "*.gtpl",
  "*.gv",
  "*.gvy",
  "*.gyp",
  "*.h",
  "*.h",
  "*.h",
  "*.h++",
  "*.haml",
  "*.haml.deface",
  "*.handlebars",
  "*.hats",
  "*.hb",
  "*.hbs",
  "*.hcl",
  "*.hh",
  "*.hh",
  "*.hic",
  "*.hlean",
  "*.hlsl",
  "*.hlsli",
  "*.hpp",
  "*.hqf",
  "*.hrl",
  "*.hs",
  "*.hsc",
  "*.htm",
  "*.html",
  "*.html.hl",
  "*.http",
  "*.hx",
  "*.hxsl",
  "*.hxx",
  "*.hy",
  "*.i7x",
  "*.iced",
  "*.icl",
  "*.idc",
  "*.idr",
  "*.ihlp",
  "*.ijs",
  "*.ik",
  "*.ily",
  "*.iml",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.inc",
  "*.ini",
  "*.inl",
  "*.ino",
  "*.ins",
  "*.intr",
  "*.io",
  "*.ipf",
  "*.ipp",
  "*.ipynb",
  "*.irbrc",
  "*.irclog",
  "*.iss",
  "*.ivy",
  "*.j",
  "*.j",
  "*.jade",
  "*.jake",
  "*.java",
  "*.jbuilder",
  "*.jelly",
  "*.jflex",
  "*.jinja",
  "*.jl",
  "*.jq",
  "*.js",
  "*.jsb",
  "*.jscad",
  "*.jsfl",
  "*.jsm",
  "*.json",
  "*.json5",
  "*.jsonld",
  "*.jsp",
  "*.jsproj",
  "*.jss",
  "*.jsx",
  "*.kicad_pcb",
  "*.kid",
  "*.kit",
  "*.kml",
  "*.krl",
  "*.ksh",
  "*.kt",
  "*.ktm",
  "*.kts",
  "*.l",
  "*.l",
  "*.l",
  "*.l",
  "*.lagda",
  "*.las",
  "*.lasso",
  "*.lasso8",
  "*.lasso9",
  "*.latte",
  "*.launch",
  "*.lbx",
  "*.ld",
  "*.ldml",
  "*.lds",
  "*.lean",
  "*.less",
  "*.lex",
  "*.lfe",
  "*.lgt",
  "*.lhs",
  "*.lid",
  "*.lidr",
  "*.liquid",
  "*.lisp",
  "*.lisp",
  "*.litcoffee",
  "*.ll",
  "*.lmi",
  "*.lock",
  "*.logtalk",
  "*.lol",
  "*.lookml",
  "*.lpr",
  "*.ls",
  "*.ls",
  "*.lsl",
  "*.lslp",
  "*.lsp",
  "*.lsp",
  "*.ltx",
  "*.lua",
  "*.lvproj",
  "*.ly",
  "*.m",
  "*.m",
  "*.m",
  "*.m",
  "*.m",
  "*.m",
  "*.m",
  "*.m4",
  "*.m4",
  "*.ma",
  "*.mak",
  "*.mako",
  "*.man",
  "*.mao",
  "*.markdown",
  "*.mask",
  "*.mat",
  "*.mata",
  "*.matah",
  "*.mathematica",
  "*.matlab",
  "*.mawk",
  "*.maxhelp",
  "*.maxpat",
  "*.maxproj",
  "*.mcr",
  "*.md",
  "*.mdpolicy",
  "*.me",
  "*.mediawiki",
  "*.meta",
  "*.metal",
  "*.minid",
  "*.mir",
  "*.mirah",
  "*.mk",
  "*.mkd",
  "*.mkdn",
  "*.mkdown",
  "*.mkfile",
  "*.mkii",
  "*.mkiv",
  "*.mkvi",
  "*.ml",
  "*.ml4",
  "*.mli",
  "*.mll",
  "*.mly",
  "*.mm",
  "*.mm",
  "*.mmk",
  "*.mms",
  "*.mo",
  "*.mod",
  "*.mod",
  "*.mod",
  "*.mod",
  "*.monkey",
  "*.moo",
  "*.moo",
  "*.moon",
  "*.ms",
  "*.ms",
  "*.ms",
  "*.mspec",
  "*.mss",
  "*.mt",
  "*.mtml",
  "*.mu",
  "*.muf",
  "*.mumps",
  "*.mustache",
  "*.mxml",
  "*.mxt",
  "*.myt",
  "*.n",
  "*.n",
  "*.nasm",
  "*.nawk",
  "*.nb",
  "*.nb",
  "*.nbp",
  "*.nc",
  "*.ncl",
  "*.ncl",
  "*.nginxconf",
  "*.ni",
  "*.nim",
  "*.nimrod",
  "*.ninja",
  "*.nit",
  "*.nix",
  "*.njs",
  "*.nl",
  "*.nl",
  "*.nlogo",
  "*.no",
  "*.nproj",
  "*.nqp",
  "*.nse",
  "*.nsh",
  "*.nsi",
  "*.nu",
  "*.numpy",
  "*.numpyw",
  "*.numsc",
  "*.nuspec",
  "*.nut",
  "*.ny",
  "*.objdump",
  "*.odd",
  "*.omgrofl",
  "*.ooc",
  "*.opa",
  "*.opal",
  "*.opencl",
  "*.org",
  "*.osm",
  "*.owl",
  "*.ox",
  "*.oxh",
  "*.oxo",
  "*.oxygene",
  "*.oz",
  "*.p",
  "*.p6",
  "*.p6l",
  "*.p6m",
  "*.pac",
  "*.pan",
  "*.parrot",
  "*.pas",
  "*.pasm",
  "*.pat",
  "*.patch",
  "*.pb",
  "*.pbi",
  "*.pck",
  "*.pd",
  "*.pd_lua",
  "*.pde",
  "*.perl",
  "*.ph",
  "*.php",
  "*.php",
  "*.php3",
  "*.php4",
  "*.php5",
  "*.phps",
  "*.phpt",
  "*.phtml",
  "*.pig",
  "*.pike",
  "*.pir",
  "*.pkb",
  "*.pkl",
  "*.pks",
  "*.pl",
  "*.pl",
  "*.pl",
  "*.pl6",
  "*.plb",
  "*.plist",
  "*.plot",
  "*.pls",
  "*.plsql",
  "*.plt",
  "*.pluginspec",
  "*.pluginspec",
  "*.plx",
  "*.pm",
  "*.pm",
  "*.pm6",
  "*.pmod",
  "*.po",
  "*.pod",
  "*.pod",
  "*.podsl",
  "*.podspec",
  "*.pogo",
  "*.pony",
  "*.pot",
  "*.pov",
  "*.pp",
  "*.pp",
  "*.prc",
  "*.prefab",
  "*.prefs",
  "*.prg",
  "*.pri",
  "*.pro",
  "*.pro",
  "*.pro",
  "*.pro",
  "*.prolog",
  "*.properties",
  "*.props",
  "*.proto",
  "*.prw",
  "*.ps",
  "*.ps1",
  "*.ps1xml",
  "*.psc",
  "*.psc1",
  "*.psd1",
  "*.psgi",
  "*.psm1",
  "*.pt",
  "*.pub",
  "*.purs",
  "*.pwn",
  "*.pxd",
  "*.pxi",
  "*.py",
  "*.pyde",
  "*.pyp",
  "*.pyt",
  "*.pytb",
  "*.pyw",
  "*.pyx",
  "*.qbs",
  "*.qml",
  "*.r",
  "*.r",
  "*.r2",
  "*.r3",
  "*.rabl",
  "*.rake",
  "*.raml",
  "*.raw",
  "*.rb",
  "*.rbbas",
  "*.rbfrm",
  "*.rbmnu",
  "*.rbres",
  "*.rbtbar",
  "*.rbuild",
  "*.rbuistate",
  "*.rbw",
  "*.rbx",
  "*.rbxs",
  "*.rd",
  "*.rdf",
  "*.rdoc",
  "*.reb",
  "*.rebol",
  "*.red",
  "*.reds",
  "*.reek",
  "*.rest",
  "*.rest.txt",
  "*.rg",
  "*.rhtml",
  "*.rkt",
  "*.rktd",
  "*.rktl",
  "*.rl",
  "*.rmd",
  "*.rno",
  "*.robot",
  "*.roff",
  "*.ron",
  "*.rpy",
  "*.rpy",
  "*.rq",
  "*.rs",
  "*.rs.in",
  "*.rsh",
  "*.rss",
  "*.rst",
  "*.rst.txt",
  "*.rsx",
  "*.ru",
  "*.ruby",
  "*.rviz",
  "*.s",
  "*.sage",
  "*.sagews",
  "*.sas",
  "*.sass",
  "*.sats",
  "*.sbt",
  "*.sc",
  "*.sc",
  "*.scad",
  "*.scala",
  "*.scaml",
  "*.scd",
  "*.sce",
  "*.sch",
  "*.sch",
  "*.sci",
  "*.scm",
  "*.scpt",
  "*.scrbl",
  "*.scss",
  "*.scxml",
  "*.self",
  "*.sexp",
  "*.sh",
  "*.sh-session",
  "*.sh.in",
  "*.shader",
  "*.shen",
  "*.sig",
  "*.sj",
  "*.sjs",
  "*.sl",
  "*.sld",
  "*.slim",
  "*.sls",
  "*.sls",
  "*.sma",
  "*.smali",
  "*.sml",
  "*.smt",
  "*.smt2",
  "*.sp",
  "*.sparql",
  "*.spin",
  "*.sps",
  "*.sqf",
  "*.sql",
  "*.sql",
  "*.sql",
  "*.sql",
  "*.srdf",
  "*.ss",
  "*.ssjs",
  "*.st",
  "*.st",
  "*.stTheme",
  "*.stan",
  "*.sthlp",
  "*.ston",
  "*.storyboard",
  "*.sty",
  "*.styl",
  "*.sublime-build",
  "*.sublime-commands",
  "*.sublime-completions",
  "*.sublime-keymap",
  "*.sublime-macro",
  "*.sublime-menu",
  "*.sublime-mousemap",
  "*.sublime-project",
  "*.sublime-settings",
  "*.sublime-snippet",
  "*.sublime-syntax",
  "*.sublime-theme",
  "*.sublime-workspace",
  "*.sublime_metrics",
  "*.sublime_session",
  "*.sv",
  "*.svg",
  "*.svh",
  "*.swift",
  "*.syntax",
  "*.t",
  "*.t",
  "*.t",
  "*.t",
  "*.tab",
  "*.tac",
  "*.targets",
  "*.tcc",
  "*.tcl",
  "*.tcsh",
  "*.tea",
  "*.tex",
  "*.textile",
  "*.tf",
  "*.thor",
  "*.thrift",
  "*.thy",
  "*.tm",
  "*.tmCommand",
  "*.tmLanguage",
  "*.tmPreferences",
  "*.tmSnippet",
  "*.tmTheme",
  "*.tml",
  "*.tmux",
  "*.toc",
  "*.toml",
  "*.tool",
  "*.topojson",
  "*.tpl",
  "*.tpp",
  "*.ts",
  "*.ts",
  "*.tst",
  "*.tst",
  "*.tsx",
  "*.tsx",
  "*.ttl",
  "*.tu",
  "*.twig",
  "*.txl",
  "*.uc",
  "*.udf",
  "*.ui",
  "*.unity",
  "*.uno",
  "*.upc",
  "*.ur",
  "*.urdf",
  "*.urs",
  "*.ux",
  "*.v",
  "*.v",
  "*.vala",
  "*.vapi",
  "*.vark",
  "*.vb",
  "*.vba",
  "*.vbhtml",
  "*.vbproj",
  "*.vbs",
  "*.vcl",
  "*.vcxproj",
  "*.veo",
  "*.vert",
  "*.vh",
  "*.vhd",
  "*.vhdl",
  "*.vhf",
  "*.vhi",
  "*.vho",
  "*.vhost",
  "*.vhost",
  "*.vhs",
  "*.vht",
  "*.vhw",
  "*.vim",
  "*.viw",
  "*.volt",
  "*.vrx",
  "*.vsh",
  "*.vshader",
  "*.vssettings",
  "*.vue",
  "*.vxml",
  "*.w",
  "*.watchr",
  "*.webidl",
  "*.weechatlog",
  "*.wiki",
  "*.wisp",
  "*.wl",
  "*.wlt",
  "*.wlua",
  "*.wsdl",
  "*.wsf",
  "*.wsgi",
  "*.wxi",
  "*.wxl",
  "*.wxs",
  "*.x",
  "*.x10",
  "*.x3d",
  "*.xacro",
  "*.xaml",
  "*.xc",
  "*.xht",
  "*.xhtml",
  "*.xi",
  "*.xib",
  "*.xlf",
  "*.xliff",
  "*.xm",
  "*.xmi",
  "*.xml",
  "*.xml.dist",
  "*.xojo_code",
  "*.xojo_menu",
  "*.xojo_report",
  "*.xojo_script",
  "*.xojo_toolbar",
  "*.xojo_window",
  "*.xpl",
  "*.xproc",
  "*.xproj",
  "*.xpy",
  "*.xq",
  "*.xql",
  "*.xqm",
  "*.xquery",
  "*.xqy",
  "*.xrl",
  "*.xs",
  "*.xsd",
  "*.xsjs",
  "*.xsjslib",
  "*.xsl",
  "*.xslt",
  "*.xsp-config",
  "*.xsp.metadata",
  "*.xtend",
  "*.xul",
  "*.y",
  "*.yacc",
  "*.yaml",
  "*.yaml-tmlanguage",
  "*.yang",
  "*.yap",
  "*.yml",
  "*.yrl",
  "*.yy",
  "*.zcml",
  "*.zep",
  "*.zimpl",
  "*.zmpl",
  "*.zone",
  "*.zpl",
  "*.zsh",
}

-- local bufnr = vim.api.nvim_get_current_buf()
vim.api.nvim_create_autocmd({ "InsertLeave", "BufLeave", "QuitPre", "TabLeave", "WinLeave", "TextChanged" }, {
  pattern = extensions,
  callback = function()
      vim.cmd("write")
  end
});
